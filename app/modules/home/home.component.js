"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@angular/core");
const lot_model_1 = require("../shared/lot/lot.model");
let HomeComponent = class HomeComponent {
    constructor() {
        this.text = 'Buyer\'s Account Calculation';
        this.baLot = new lot_model_1.Lot();
        this.baLot.lotSizeSQM = 0;
        this.baLot.FMV = 0;
        this.baLot.sellPrice = 0;
        this.baLot.zonalValue = 0;
    }
    submit() {
        this.lotCalc();
    }
    lotCalc() {
        this.baLot.registration = this.baLot.fetch(this.baLot.sellPrice);
        console.log("Calc Reg Fee done");
        this.baLot.totalAmt = Number((Number(this.baLot.sellPrice) + Number(this.baLot.registration) + Number(this.baLot.transferTax)).toFixed(2)); // ;
        console.log("Calc Total Amt done");
        this.baLot.totalAmt = Number(this.baLot.totalAmt.toFixed(2));
        this.addlCalc();
    }
    addlCalc() {
        if (Number.isNaN(this.baLot.lotSizeSQM) || (this.baLot.lotSizeSQM === 0)) {
            this.baLot.pricePerSQM = 0;
        }
        else {
            this.baLot.pricePerSQM = Number((this.baLot.sellPrice / this.baLot.lotSizeSQM).toFixed(2));
        }
        console.log("Calc Price per SQM done");
        this.baLot.transferTax = Number((Math.max(Number(this.baLot.FMV), Number(this.baLot.sellPrice)) * 0.5 * 0.01).toFixed(2));
        console.log("Calc Transfer Tax done");
    }
};
HomeComponent = __decorate([
    core_1.Component({
        selector: 'home',
        templateUrl: 'modules/home/home.component.html',
        changeDetection: core_1.ChangeDetectionStrategy.Default
    }),
    __metadata("design:paramtypes", [])
], HomeComponent);
exports.HomeComponent = HomeComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJob21lLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHdDQUFtRTtBQUNuRSx1REFBOEM7QUFROUMsSUFBYSxhQUFhLEdBQTFCO0lBSUU7UUFIQSxTQUFJLEdBQVcsOEJBQThCLENBQUM7UUFJNUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLGVBQUcsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDakUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxJQUFJO1FBQy9JLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxRQUFRO1FBQ04sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUM3QixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNGLENBQUM7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFDLEdBQUcsR0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNySCxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDeEMsQ0FBQztDQUdGLENBQUE7QUFyQ1ksYUFBYTtJQU56QixnQkFBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLE1BQU07UUFDaEIsV0FBVyxFQUFFLGtDQUFrQztRQUMvQyxlQUFlLEVBQUUsOEJBQXVCLENBQUMsT0FBTztLQUNqRCxDQUFDOztHQUVXLGFBQWEsQ0FxQ3pCO0FBckNZLHNDQUFhIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBMb3QgfSBmcm9tICcuLi9zaGFyZWQvbG90L2xvdC5tb2RlbCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2hvbWUnLFxyXG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ob21lL2hvbWUuY29tcG9uZW50Lmh0bWwnLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvbWVDb21wb25lbnQge1xyXG4gIHRleHQ6IHN0cmluZyA9ICdCdXllclxcJ3MgQWNjb3VudCBDYWxjdWxhdGlvbic7XHJcbiAgYmFMb3Q6IExvdDtcclxuXHJcbiAgY29uc3RydWN0b3IoKXtcclxuICAgIHRoaXMuYmFMb3QgPSBuZXcgTG90KCk7XHJcbiAgICB0aGlzLmJhTG90LmxvdFNpemVTUU0gPSAwO1xyXG4gICAgdGhpcy5iYUxvdC5GTVYgPSAwO1xyXG4gICAgdGhpcy5iYUxvdC5zZWxsUHJpY2UgPSAwO1xyXG4gICAgdGhpcy5iYUxvdC56b25hbFZhbHVlID0gMDtcclxuICB9XHJcblxyXG4gIHN1Ym1pdCgpe1xyXG4gICAgdGhpcy5sb3RDYWxjKCk7XHJcbiAgfVxyXG5cclxuICBsb3RDYWxjKCkge1xyXG4gICAgdGhpcy5iYUxvdC5yZWdpc3RyYXRpb24gPSB0aGlzLmJhTG90LmZldGNoKHRoaXMuYmFMb3Quc2VsbFByaWNlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiQ2FsYyBSZWcgRmVlIGRvbmVcIik7XHJcbiAgICB0aGlzLmJhTG90LnRvdGFsQW10ID0gTnVtYmVyKChOdW1iZXIodGhpcy5iYUxvdC5zZWxsUHJpY2UpICsgTnVtYmVyKHRoaXMuYmFMb3QucmVnaXN0cmF0aW9uKSArIE51bWJlcih0aGlzLmJhTG90LnRyYW5zZmVyVGF4KSkudG9GaXhlZCgyKSk7Ly8gO1xyXG4gICAgY29uc29sZS5sb2coXCJDYWxjIFRvdGFsIEFtdCBkb25lXCIpO1xyXG4gICAgdGhpcy5iYUxvdC50b3RhbEFtdCA9IE51bWJlcih0aGlzLmJhTG90LnRvdGFsQW10LnRvRml4ZWQoMikpO1xyXG4gICAgdGhpcy5hZGRsQ2FsYygpO1xyXG4gIH1cclxuXHJcbiAgYWRkbENhbGMoKXtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4odGhpcy5iYUxvdC5sb3RTaXplU1FNKXx8KHRoaXMuYmFMb3QubG90U2l6ZVNRTSA9PT0gMCkpIHtcclxuICAgICAgdGhpcy5iYUxvdC5wcmljZVBlclNRTSA9IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmJhTG90LnByaWNlUGVyU1FNID0gTnVtYmVyKCh0aGlzLmJhTG90LnNlbGxQcmljZS90aGlzLmJhTG90LmxvdFNpemVTUU0pLnRvRml4ZWQoMikpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJDYWxjIFByaWNlIHBlciBTUU0gZG9uZVwiKTtcclxuICAgIHRoaXMuYmFMb3QudHJhbnNmZXJUYXggPSBOdW1iZXIoKE1hdGgubWF4KE51bWJlcih0aGlzLmJhTG90LkZNViksTnVtYmVyKHRoaXMuYmFMb3Quc2VsbFByaWNlKSkqMC41KjAuMDEpLnRvRml4ZWQoMikpO1xyXG4gICAgY29uc29sZS5sb2coXCJDYWxjIFRyYW5zZmVyIFRheCBkb25lXCIpOyAgICBcclxuICB9XHJcblxyXG5cclxufSJdfQ==